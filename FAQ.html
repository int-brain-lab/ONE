<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FAQ &mdash; ONE  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="api_reference.html" />
    <link rel="prev" title="Datasets and their types" href="notebooks/datasets_and_types.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ONE
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Using ONE to access data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="one_reference.html">Introduction to ONE (Open Neurophysiology Environment)</a></li>
<li class="toctree-l1"><a class="reference internal" href="one_installation.html">ONE installation and setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_quickstart.html">ONE Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_search/one_search.html">Searching with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_list/one_list.html">Listing with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_load/one_load.html">Loading with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/experiment_ids.html">Experiment IDs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using ONE with Alyx</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_modes.html">ONE API modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_advanced/one_advanced.html">ONE REST queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/useful_alyx_queries.html">Useful Alyx REST queries</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using ONE to share data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notebooks/data_sharing.html">Releasing data with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/recording_data_access.html">Recording Data Access</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ALF</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="alf_intro.html">ALyx Filenames (ALF)</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/alyx_files.html">Listing Alyx Filenames</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/datasets_and_types.html">Datasets and their types</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-release-my-own-data-with-the-one-api">How do I release my own data with the ONE API?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-use-one-without-connecting-to-my-database">How do I use ONE without connecting to my database?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#why-are-my-recent-data-missing-from-my-cache-but-present-on-alyx">Why are my recent data missing from my cache but present on Alyx?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#i-made-a-mistake-during-setup-and-now-can-t-call-setup-how-do-i-fix-it">I made a mistake during setup and now can’t call setup, how do I fix it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-change-my-download-a-k-a-cache-directory">How do I change my download (a.k.a. cache) directory?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-check-who-i-m-logged-in-as">How do check who I’m logged in as?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-log-out-or-temporarily-log-in-as-someone-else">How do I log out, or temporarily log in as someone else?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Detailed Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ONE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>FAQ</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/FAQ.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this heading"></a></h1>
<section id="how-do-i-release-my-own-data-with-the-one-api">
<h2>How do I release my own data with the ONE API?<a class="headerlink" href="#how-do-i-release-my-own-data-with-the-one-api" title="Permalink to this heading"></a></h2>
<p>First create a directory of <a class="reference internal" href="notebooks/datasets_and_types.html"><span class="doc std std-doc">ALF datasets</span></a>, generate the
cache tables, then share the directory with others.  See <a class="reference internal" href="notebooks/data_sharing.html"><span class="doc std std-doc">data sharing</span></a>
guide for more information.</p>
</section>
<section id="how-do-i-use-one-without-connecting-to-my-database">
<h2>How do I use ONE without connecting to my database?<a class="headerlink" href="#how-do-i-use-one-without-connecting-to-my-database" title="Permalink to this heading"></a></h2>
<p>If you temporarily lose access to your Alyx database, you can instantiate ONE in local mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">one</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">(</span><span class="n">base_url</span><span class="o">=</span><span class="s1">&#39;https://openalyx.internationalbrainlab.org&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;local&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Read more about ONE modes <a class="reference internal" href="notebooks/one_modes.html"><span class="doc std std-doc">here</span></a>.</p>
</section>
<section id="why-are-my-recent-data-missing-from-my-cache-but-present-on-alyx">
<h2>Why are my recent data missing from my cache but present on Alyx?<a class="headerlink" href="#why-are-my-recent-data-missing-from-my-cache-but-present-on-alyx" title="Permalink to this heading"></a></h2>
<p>After new data are acquired it may take time for it to be copied to an online server (it will
be marked as ‘online’ in Alyx).  Once the data is marked as existing and online, it should appear
in the cache tables next time they are generated.  For the IBL Alyx, the ONE cache tables are
re-generated every 6 hours, however by default ONE will only download a new cache once per day.  To
force a download you can run <code class="docutils literal notranslate"><span class="pre">ONE().refresh_cache('remote')</span></code>.  More information, including
increasing refresh frequency, can be found <a class="reference external" href="https://int-brain-lab.github.io/ONE/notebooks/one_modes.html#Refreshing-the-cache">here</a>.</p>
<p>Note: There are two different definitions of caches that are used in ONE2:</p>
<ol class="arabic simple">
<li><p>The cache table that stores info about all sessions and their associated datasets.
This is refreshed every night and uploaded to Flatiron and downloaded onto your computer
every 24hr (this is what the datetime object returned as output of the <code class="docutils literal notranslate"><span class="pre">ONE().refresh_cache('remote')</span></code>
command is showing, i.e. when this cache was last updated).
This table is used in all one.search, one.load, one.list functions. When doing
<code class="docutils literal notranslate"><span class="pre">ONE().refresh_cache('remote')</span></code>, you are basically forcing ONE to re-download this table
regardless of when it was last downloaded from Flatiron.</p></li>
<li><p>When running remote queries (anything that uses <code class="docutils literal notranslate"><span class="pre">one.alyx.rest(....)</span></code>),
ONE stores the results of these queries for 24 hours, so that if you
repeatedly make the same query over and over you don’t hit the database
each time but can use the local cached result.
A problem can arise if something on the Alyx database changes in between the same query:</p>
<ul class="simple">
<li><p>For example, at time X a given query returns an empty result (e.g. no histology session for a given subject).
At time X+1, data is registered onto Alyx.
At time X+2, you run the same query again.
Because you had already made the query earlier, ONE uses the local result that
it had previously and displays that there isn’t a histology session.
To circumvent this, use the <code class="docutils literal notranslate"><span class="pre">no_cache=True</span></code> argument in <code class="docutils literal notranslate"><span class="pre">one.alyx.rest(...,</span> <span class="pre">no_cache=True)</span></code> or
the <code class="docutils literal notranslate"><span class="pre">no_cache</span></code> web client context.  More information can be found <a class="reference external" href="https://int-brain-lab.github.io/ONE/notebooks/one_modes.html#REST-caching">here</a>.
Use this only if necessary, as these methods are not optimized.</p></li>
</ul>
</li>
</ol>
</section>
<section id="i-made-a-mistake-during-setup-and-now-can-t-call-setup-how-do-i-fix-it">
<h2>I made a mistake during setup and now can’t call setup, how do I fix it?<a class="headerlink" href="#i-made-a-mistake-during-setup-and-now-can-t-call-setup-how-do-i-fix-it" title="Permalink to this heading"></a></h2>
<p>Usually you can re-run your setup with the following command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">one.api</span> <span class="kn">import</span> <span class="n">ONE</span>
<span class="n">new_one</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">()</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">base_url</span><span class="o">=</span><span class="s1">&#39;https://alyx.example.com&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Sometimes if the settings are wrong, the call to `ONE()’ raises an error before the setup method is
called.  To avoid this, run the following command instead:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">one.api</span> <span class="kn">import</span> <span class="n">OneAlyx</span>
<span class="n">new_one</span> <span class="o">=</span> <span class="n">OneAlyx</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">base_url</span><span class="o">=</span><span class="s1">&#39;https://alyx.example.com&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="how-do-i-change-my-download-a-k-a-cache-directory">
<h2>How do I change my download (a.k.a. cache) directory?<a class="headerlink" href="#how-do-i-change-my-download-a-k-a-cache-directory" title="Permalink to this heading"></a></h2>
<p>For one-time changes, simply re-run the setup routine:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">one.api</span> <span class="kn">import</span> <span class="n">ONE</span>
<span class="n">new_one</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">()</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>  <span class="c1"># Re-run setup for default database</span>
</pre></div>
</div>
<p>When prompted (‘Enter the location of the download cache’) enter the absolute path of the new download location.</p>
</section>
<section id="how-do-check-who-i-m-logged-in-as">
<h2>How do check who I’m logged in as?<a class="headerlink" href="#how-do-check-who-i-m-logged-in-as" title="Permalink to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">one.api</span> <span class="kn">import</span> <span class="n">ONE</span>
<span class="n">one</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">()</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">one</span><span class="o">.</span><span class="n">offline</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">one</span><span class="o">.</span><span class="n">alyx</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">one</span><span class="o">.</span><span class="n">alyx</span><span class="o">.</span><span class="n">base_url</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="how-do-i-log-out-or-temporarily-log-in-as-someone-else">
<h2>How do I log out, or temporarily log in as someone else?<a class="headerlink" href="#how-do-i-log-out-or-temporarily-log-in-as-someone-else" title="Permalink to this heading"></a></h2>
<p>To log out:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">one.api</span> <span class="kn">import</span> <span class="n">ONE</span>
<span class="n">one</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">()</span>

<span class="n">one</span><span class="o">.</span><span class="n">alyx</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
</pre></div>
</div>
<p>To log in as someone else temporarily:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">one</span><span class="o">.</span><span class="n">alyx</span><span class="o">.</span><span class="n">authenticate</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;other_user&#39;</span><span class="p">,</span> <span class="n">cache_token</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="notebooks/datasets_and_types.html" class="btn btn-neutral float-left" title="Datasets and their types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api_reference.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, International Brain Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>