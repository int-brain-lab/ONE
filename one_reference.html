<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction to ONE (Open Neurophysiology Environment) &mdash; ONE  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ONE installation and setup" href="one_installation.html" />
    <link rel="prev" title="Welcome to ONE’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ONE
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Using ONE to access data</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction to ONE (Open Neurophysiology Environment)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-the-open-neurophysiology-environment-works">How the open neurophysiology environment works</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-structure">Data structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#accessing-the-api">Accessing the API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loading-data">Loading data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#searching-for-experiments">Searching for experiments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#standardization">Standardization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#versioning-and-subcollections">Versioning and subcollections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#for-data-sharers">For data sharers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="one_installation.html">ONE installation and setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_quickstart.html">ONE Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_search/one_search.html">Searching with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_list/one_list.html">Listing with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_load/one_load.html">Loading with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/experiment_ids.html">Experiment Ids</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Remote usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_modes.html">ONE API modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_advanced/one_advanced.html">ONE REST queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/useful_alyx_queries.html">Useful Alyx REST queries</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data sharing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notebooks/data_sharing.html">Sharing ONE data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ALF</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="alf_intro.html">ALyx Files (ALF)</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/alyx_files.html">Listing Alyx Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/datasets_and_types.html">Datasets and their types</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Detailed Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ONE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Introduction to ONE (Open Neurophysiology Environment)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/one_reference.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section class="tex2jax_ignore mathjax_ignore" id="introduction-to-one-open-neurophysiology-environment">
<h1>Introduction to ONE (Open Neurophysiology Environment)<a class="headerlink" href="#introduction-to-one-open-neurophysiology-environment" title="Permalink to this headline"></a></h1>
<p>Neurophysiology needs data standardization.
A scientist should be able to analyze data collected from multiple labs using a single analysis program,
without spending untold hours figuring out new file formats.
Substantial efforts have recently been put into developing neurodata file standards,
with the most successful being the <a class="reference external" href="https://www.nwb.org/">Neurodata Without Borders</a> (NWB) format.
The NWB format has a comprehensive and careful design that allows one to store all data and metadata
pertaining to a neurophysiology experiment.
Nevertheless, its comprehensive design also means a steep learning curve for potential users, which has limited its adoption.</p>
<section id="how-the-open-neurophysiology-environment-works">
<h2>How the open neurophysiology environment works<a class="headerlink" href="#how-the-open-neurophysiology-environment-works" title="Permalink to this headline"></a></h2>
<p>Here we provide a solution to this problem: a set of four simple functions,
that allow users to access and search data from multiple sources.
To adopt the standard, data providers can use any format they like -
all they need to do is implement these functions to fetch the data from their server and load it into Python or MATLAB.
Users can then analyze this data with the same exact code as data from any other provider.
The learning curve will be simple, and the loader functions would be enough for around 90% of common use cases.</p>
<p>By a <em>data provider</em> we mean an organization that hosts a set of neurophysiology data on an internet server (for example, the <a class="reference external" href="https://www.internationalbrainlab.com/">International Brain Lab</a>). The Open Neurophysiology Environment (ONE) provides a way for scientists to analyze data from multiple data providers using the same analysis code. There is no need for the scientist to explicitly download data files or understand their format - this is all handled seamlessly by the ONE framework. The ONE protocol can also be used to access a scientist’s own experiments stored on their personal computer, but we do not describe this use-case here.</p>
<section id="data-structure">
<h3>Data structure<a class="headerlink" href="#data-structure" title="Permalink to this headline"></a></h3>
<p>Every experiment a data provider releases is identified by an <a class="reference internal" href="notebooks/experiment_ids.html"><span class="doc std std-doc"><em>experiment ID</em></span></a> (eID) – a small token that uniquely identifies a particular experiment.
It is up to the data provider to specify the format of their eIDs.</p>
<p>The data files <strong>have to follow the Alyx file name specification</strong> (<a class="reference internal" href="alf_intro.html"><span class="doc std std-doc">ALF</span></a>).
The ONE package is concerned with parsing and loading files that follow this specification.</p>
</section>
<section id="accessing-the-api">
<h3>Accessing the API<a class="headerlink" href="#accessing-the-api" title="Permalink to this headline"></a></h3>
<p>When a user wants to analyze data released by a provider, they
first import that provider’s loader functions. In python, to analyze IBL data, they would type</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">one.api</span> <span class="kn">import</span> <span class="n">ONE</span>
</pre></div>
</div>
</section>
<section id="loading-data">
<h3>Loading data<a class="headerlink" href="#loading-data" title="Permalink to this headline"></a></h3>
<p>If a user already knows the eID of an experiment they are interested in, they can load data for the experiment using a command like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">st</span><span class="p">,</span> <span class="n">sc</span><span class="p">,</span> <span class="n">cbl</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">()</span><span class="o">.</span><span class="n">load_datasets</span><span class="p">(</span><span class="n">eID</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spikes.times&#39;</span><span class="p">,</span> <span class="s1">&#39;spikes.clusters&#39;</span><span class="p">,</span> <span class="s1">&#39;clusters.brain_location&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>This command will (down)load three datasets containing the times and cluster assignments of all spikes recorded in that experiment, together with an estimate of the brain location of each cluster.</p>
<p>For more information, see the <a class="reference internal" href="notebooks/one_load/one_load.html"><span class="doc std std-doc">loading data</span></a> guide.</p>
</section>
<section id="searching-for-experiments">
<h3>Searching for experiments<a class="headerlink" href="#searching-for-experiments" title="Permalink to this headline"></a></h3>
<p>Finally, a user needs to be able to search the data released by a provider, to obtain the eIDs of experiments they want to analyze. To do so they would run a command like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">eIDs</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">()</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">lab</span><span class="o">=</span><span class="s1">&#39;CortexLabUCL&#39;</span><span class="p">,</span> <span class="n">subject</span><span class="o">=</span><span class="s1">&#39;hercules&#39;</span><span class="p">,</span> <span class="n">dataset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;spikes.times&#39;</span><span class="p">,</span> <span class="s1">&#39;spikes.clusters&#39;</span><span class="p">,</span><span class="s1">&#39;headTracking.xyPos&#39;</span><span class="p">])</span>
<span class="n">eIDs</span><span class="p">,</span> <span class="n">eInfo</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">()</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">details</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">lab</span><span class="o">=</span><span class="s1">&#39;CortexLabUCL&#39;</span><span class="p">,</span> <span class="n">subject</span><span class="o">=</span><span class="s1">&#39;hercules&#39;</span><span class="p">,</span> <span class="n">dataset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;spikes.times&#39;</span><span class="p">,</span> <span class="s1">&#39;spikes.clusters&#39;</span><span class="p">,</span><span class="s1">&#39;headTracking.xyPos&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>This would find the eIDs for all experiments collected in the specified lab for the specified
experimental subject, for which all the required data is present. There are more metadata options
to refine the search in online mode (e.g. dates, genotypes, experimenter), and additional metadata
on each matching experiment is returned in <code class="docutils literal notranslate"><span class="pre">eInfo</span></code>. However, the existence of datasets is normally
enough to find the data you want. For example, if you want to analyze electrophysiology in a
particular behavior task, the experiments you want are exactly those with datasets describing th
ephys recordings and that task’s parameters.</p>
<p>For more information, see the <a class="reference internal" href="notebooks/one_search/one_search.html"><span class="doc std std-doc">searching data</span></a> guide.</p>
</section>
</section>
<section id="standardization">
<h2>Standardization<a class="headerlink" href="#standardization" title="Permalink to this headline"></a></h2>
<p>The key to ONE’s standardization is the concept of a “standard dataset type”.
When a user requests one of these (such as <code class="docutils literal notranslate"><span class="pre">spikes.times</span></code>), they are guaranteed that each data provider will return them the same information, organized in the same way - in this case, the times of all extracellularly recorded spikes, measured in seconds relative to experiment start, and returned as a 1-dimensional column vector. It is guaranteed that any dataset types of the form <code class="docutils literal notranslate"><span class="pre">*.times</span></code> or <code class="docutils literal notranslate"><span class="pre">*.*_times</span></code> will be measured in seconds relative to experiment start. Furthermore, all dataset types differing only in their last word (e.g. <code class="docutils literal notranslate"><span class="pre">spikes.times</span></code> and <code class="docutils literal notranslate"><span class="pre">spikes.clusters</span></code>) will have the same number of rows, describing multiple attributes of the same objects. Finally, words matching across dataset types encode references: for example, <code class="docutils literal notranslate"><span class="pre">spikes.clusters</span></code> is guaranteed to contain integers, and to find the brain location of each of these one looks to the corresponding row of <code class="docutils literal notranslate"><span class="pre">clusters.brain_location</span></code>, counting from 0.</p>
<p>Not all data can be standardized, since each project will do unique experiments. Data providers can therefore add their own project-specific dataset types. The list of standard dataset types will be maintained centrally, and will start small but increase over time as the community converges on good ways to standardize more information. It is therefore important to distinguish dataset types agreed as universal standards from types specific to individual projects. To achieve this, names beginning with an underscore are guaranteed never to be standard. It is recommended that nonstandard names identify the group that produces them: for example the dataset types <code class="docutils literal notranslate"><span class="pre">_ibl_trials.stimulusContrast</span></code> and <code class="docutils literal notranslate"><span class="pre">clusters._ibl_task_modulation</span></code> could contain information specific to the IBL project.</p>
</section>
<section id="versioning-and-subcollections">
<h2>Versioning and subcollections<a class="headerlink" href="#versioning-and-subcollections" title="Permalink to this headline"></a></h2>
<p>Data are often released in multiple versions. Most users will want to have the latest version, but sometimes a user working will want to continue working with a historical version even after it has been updated,
to maintain consistency with previous work.
To enable versioning, the ONE functions accept an optional argument of the form <code class="docutils literal notranslate"><span class="pre">revision='v1'</span></code>, which ensures this specific version is loaded. If the argument is not passed, the latest version will be loaded.</p>
<p>Sometimes the data will contain multiple measurements of the same type, for example if recordings are made with multiple recording probes simultaneously. In these cases, the dataset types for probe 0 will have names like <code class="docutils literal notranslate"><span class="pre">probe00/spikes.times</span></code>, <code class="docutils literal notranslate"><span class="pre">probe00/spikes.clusters</span></code>, and <code class="docutils literal notranslate"><span class="pre">probe00/clusters.brain_location</span></code>; data for probe 1 will be <code class="docutils literal notranslate"><span class="pre">probe01/spikes.times</span></code>, etc. Encoding of references works within a subcollection: i.e. the entries of <code class="docutils literal notranslate"><span class="pre">probe00/spikes.clusters</span></code> point to the rows of <code class="docutils literal notranslate"><span class="pre">probe00/clusters.brain_location</span></code>, starting from 0, and independently of any datasets starting with <code class="docutils literal notranslate"><span class="pre">probe01/</span></code>.</p>
</section>
<section id="for-data-sharers">
<h2>For data sharers<a class="headerlink" href="#for-data-sharers" title="Permalink to this headline"></a></h2>
<p>Data standards are only adopted when they are easy to use, for both providers and users of data. For users, the three ONE functions will be simple to learn, and will cover most common use cases.</p>
<p>For providers, a key advantage of this framework is its low barrier to entry. To share data with ONE, providers do not need to run and maintain a backend server, just to upload their data to a website.
For more information, see the <a class="reference internal" href="notebooks/data_sharing.html"><span class="doc std std-doc">data sharing</span></a> guide.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to ONE’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="one_installation.html" class="btn btn-neutral float-right" title="ONE installation and setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, International Brain Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>