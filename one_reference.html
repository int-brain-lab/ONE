<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction to ONE (Open Neurophysiology Environment) &mdash; ONE  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ONE installation and setup" href="one_installation.html" />
    <link rel="prev" title="Welcome to ONE’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ONE
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Using ONE to access data</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction to ONE (Open Neurophysiology Environment)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-the-one-api-works">How the ONE API works</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#experiment-ids">Experiment IDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#searching-for-experiments">Searching for experiments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datasets">Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collections-and-revisions">Collections and revisions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#listing-data">Listing data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loading-data">Loading data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#for-data-sharers">For data sharers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="one_installation.html">ONE installation and setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_quickstart.html">ONE Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_search/one_search.html">Searching with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_list/one_list.html">Listing with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_load/one_load.html">Loading with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/experiment_ids.html">Experiment IDs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using ONE with Alyx</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_modes.html">ONE API modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/one_advanced/one_advanced.html">ONE REST queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/useful_alyx_queries.html">Useful Alyx REST queries</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using ONE to share data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notebooks/data_sharing.html">Releasing data with ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/recording_data_access.html">Recording Data Access</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ALF</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="alf_intro.html">ALyx Filenames (ALF)</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/alyx_files.html">Listing Alyx Filenames</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/datasets_and_types.html">Datasets and their types</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ONE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Introduction to ONE (Open Neurophysiology Environment)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/one_reference.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="introduction-to-one-open-neurophysiology-environment">
<h1>Introduction to ONE (Open Neurophysiology Environment)<a class="headerlink" href="#introduction-to-one-open-neurophysiology-environment" title="Permalink to this heading"></a></h1>
<p>The Open Neurophysiology Environment is a protocol for standardizing, searching and sharing
neurophysiology data.</p>
<p>ONE defines a simple set of conventions for how to store and share neurophysiology data, including features such as cross-references between datasets, versioning, and time synchronization. The easiest way to share data with ONE is save it in files following the <a class="reference download internal" download="" href="_downloads/d82e118af539e2761734231bc1153cab/Open_Neurophysiology_Environment_Filename_Convention.pdf"><span class="xref download myst">ONE filename convention</span></a>, using <a class="reference external" href="https://docs.google.com/spreadsheets/d/13-3f1JE_wdSAqlO2xi_6XV8nQ5up-uaOIvWAYFBJ7q0/edit#gid=0">standard filenames</a> when applicable, and put them on a website. By following this convention, individual labs or small collaborations can enable users to easily load their data and understand how it is organized, without having to spend hours reading documentation.</p>
<p>ONE also provides an API to search and load datasets. The same API commands can be used to access a few files kept on a user’s local machine, or large collections of files stored on a remote server. By releasing data in remote mode, large collaborations can release data covering all aspects of their experiments while allowing users to find and download only the specific data items that they need. Using the same interface to access small and large collections makes it easy for scientists to share data using ONE as a standard, and to scale up as their projects grow.</p>
<p>The following documentation describes the ONE API, and how to use it to access data from the <a class="reference external" href="https://www.internationalbrainlab.com/">International Brain Lab</a>.</p>
<section id="how-the-one-api-works">
<h2>How the ONE API works<a class="headerlink" href="#how-the-one-api-works" title="Permalink to this heading"></a></h2>
<p>The API comprises three simple methods to search, list and load data.
Because the data files follow a standard naming convention, the Open Neurophysiology Environment (ONE)
provides a way for scientists to analyze data from multiple data providers using the same analysis code.
There is no need for the scientist to explicitly download data files or understand their format - this
is all handled seamlessly by the ONE framework.</p>
<section id="experiment-ids">
<h3>Experiment IDs<a class="headerlink" href="#experiment-ids" title="Permalink to this heading"></a></h3>
<p>Every experimental session is identified by an <em>experiment ID</em> (<em>eID</em>) – a string that uniquely
identifies a particular experiment. This may be a path fragment (i.e. subject/date/number) or <a class="reference external" href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a>.</p>
<p>For detailed information, see the <a class="reference internal" href="notebooks/experiment_ids.html"><span class="doc std std-doc">searching data</span></a> guide.</p>
</section>
<section id="searching-for-experiments">
<h3>Searching for experiments<a class="headerlink" href="#searching-for-experiments" title="Permalink to this heading"></a></h3>
<p>To obtain the eIDs of experiments a user can use the search method to filter experiments by a set of criteria:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">eids</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">()</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
    <span class="n">lab</span><span class="o">=</span><span class="s1">&#39;CortexLabUCL&#39;</span><span class="p">,</span> 
    <span class="n">subject</span><span class="o">=</span><span class="s1">&#39;hercules&#39;</span><span class="p">,</span> 
    <span class="n">dataset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;spikes.times&#39;</span><span class="p">,</span> <span class="s1">&#39;spikes.clusters&#39;</span><span class="p">,</span><span class="s1">&#39;headTracking.xyPos&#39;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This would find the eIDs for all experiments collected in the specified lab for the specified
experimental subject, for which all the required data is present. There are more metadata options
to refine the search in online mode (e.g. dates, genotypes, experimenter), and additional metadata
can optionally be returned . The existence of datasets is normally enough to find the data you want.
For example, if you want to analyze electrophysiology in a particular behavior task, the experiments
you want are exactly those with datasets describing the ephys recordings and that task’s parameters.</p>
<p>For detailed information, see the <a class="reference internal" href="notebooks/one_search/one_search.html"><span class="doc std std-doc">searching data</span></a> guide.</p>
</section>
<section id="datasets">
<h3>Datasets<a class="headerlink" href="#datasets" title="Permalink to this heading"></a></h3>
<p>The data for each experiment are organized into <em>datasets</em>, which are normally (but not always)
numerical arrays. A <em>dataset name</em> is a string identifying a particular piece of data
(such as <code class="docutils literal notranslate"><span class="pre">spikes.times</span></code>). When a user requests one of these, they are guaranteed to be returned the
same information, organized in the same way - in this case, the times of all extracellularly
recorded spikes, measured in seconds relative to experiment start, and returned as a 1-dimensional
column vector.</p>
<p>Dataset names have two parts, called the <em>object</em> and the <em>attribute</em>, which allow encoding of
relationships between datasets.  Datasets with the same object name (e.g. <code class="docutils literal notranslate"><span class="pre">spikes.times</span></code> and <code class="docutils literal notranslate"><span class="pre">spikes.clusters</span></code>)
describe multiple attributes of the same object analogously to a database table or data frame
(in this example the times and cluster assignments of each spike). Datasets with the same object
name will always have the same number of rows (or the same leading dimension size for high-dimensional arrays).</p>
<p>If the attribute of one dataset matches the object of another, this represents a cross-reference.
For example, <code class="docutils literal notranslate"><span class="pre">spikes.clusters</span></code> contains an integer cluster assignment for each spike (counting from 0),
while <code class="docutils literal notranslate"><span class="pre">clusters.waveforms</span></code> contains a 3d numerical array giving the mean waveform of these clusters.
This convention therefore allows a basic relational model to be encoded in datasets.</p>
<p>Any dataset name of the form <code class="docutils literal notranslate"><span class="pre">*.times</span></code> or <code class="docutils literal notranslate"><span class="pre">*.*_times</span></code> will a 1-column array of times measured in
seconds relative to experiment start. Any dataset name of the form <code class="docutils literal notranslate"><span class="pre">*.intervals</span></code> or <code class="docutils literal notranslate"><span class="pre">*.*_intervals</span></code>
will be a two-column array of start and stop times measured in seconds relative to experiment start.</p>
<p>Additionally datasets with a <code class="docutils literal notranslate"><span class="pre">table</span></code> attribute will be loaded and split into one key per column and
merged with any other data part of the same object.  Table columns will take precedent in the case
of duplicate attributes.  If a <code class="docutils literal notranslate"><span class="pre">*.*.metadata.*</span></code> file exists for a given attribute and specifies
column names, the loaded table/matrix will be split into said columns.</p>
<p>Datasets are organized into experiment folders by subject, date and sequence.  These session folders
may optionally be organized by lab.</p>
<p>For detailed information, see the <a class="reference internal" href="notebooks/datasets_and_types.html"><span class="doc std std-doc">datasets and types</span></a> guide.</p>
</section>
<section id="collections-and-revisions">
<h3>Collections and revisions<a class="headerlink" href="#collections-and-revisions" title="Permalink to this heading"></a></h3>
<p>An experiment may contain multiple datasets of the same type. For example in an electrophysiology
recording with multiple probes, for which the results of multiple spike sorting algorithms have been stored,
the user must be able to specify which version of <code class="docutils literal notranslate"><span class="pre">spikes.times</span></code> they want. In this case, the datasets
belong to different <em>collections</em>. Collections are optional subdirectories within a session folder.
For example, datasets pertaining probe number 00, spike-sorted with kilosort 2.5 would belong to the
collection <code class="docutils literal notranslate"><span class="pre">probe00\ks2.5</span></code>.</p>
<p>Sometimes, datasets will be revised, for example if pre-processing software is rerun.
Nevertheless, users might prefer to keep using an older version of the datasets, for example if
finalizing a paper. To enable this, revised datasets are identified by a <em>revision</em>: a subdirectory
such as an ISO date like <code class="docutils literal notranslate"><span class="pre">2021-08-31</span></code>. If a user requests a particular revision, they will be
returned the most recent previous revision (in lexicographical order). Thus, a user can “freeze” an
analysis by specifying a single date, and thus be given a snapshot of what the most recent data on that day.</p>
<p>For detailed information, see the <a class="reference internal" href="alf_intro.html"><span class="doc std std-doc">full ALF specification</span></a>.</p>
</section>
<section id="listing-data">
<h3>Listing data<a class="headerlink" href="#listing-data" title="Permalink to this heading"></a></h3>
<p>The second API method allows the user to list and filter the available datasets for an experiment.
To list the datasets for a given experiment and filter by a collection, the user would run</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">datasets</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">()</span><span class="o">.</span><span class="n">list_datasets</span><span class="p">(</span><span class="n">eid</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="s1">&#39;*probe00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Likewise, users can list collections and revisions for a given experiment, and all methods support wildcards.</p>
<p>For detailed information, see the <a class="reference internal" href="notebooks/one_list/one_list.html"><span class="doc std std-doc">listing data</span></a> guide.</p>
</section>
<section id="loading-data">
<h3>Loading data<a class="headerlink" href="#loading-data" title="Permalink to this heading"></a></h3>
<p>Finally the user can load data for the experiment using one of the load methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">st</span><span class="p">,</span> <span class="n">sc</span><span class="p">,</span> <span class="n">cbl</span> <span class="o">=</span> <span class="n">ONE</span><span class="p">()</span><span class="o">.</span><span class="n">load_datasets</span><span class="p">(</span><span class="n">eID</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spikes.times&#39;</span><span class="p">,</span> <span class="s1">&#39;spikes.clusters&#39;</span><span class="p">,</span> <span class="s1">&#39;clusters.brain_location&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>This command will (down)load three datasets containing the times and cluster assignments of all
spikes recorded in that experiment, together with an estimate of the brain location of each cluster.</p>
<p>For detailed information, see the <a class="reference internal" href="notebooks/one_load/one_load.html"><span class="doc std std-doc">loading data</span></a> guide.</p>
</section>
<section id="for-data-sharers">
<h3>For data sharers<a class="headerlink" href="#for-data-sharers" title="Permalink to this heading"></a></h3>
<p>Data standards are only adopted when they are easy to use, for both providers and users of data.
For users, the three ONE methods will be simple to learn, and will cover most common use cases.</p>
<p>For providers, a key advantage of this framework is its low barrier to entry. To share data with ONE,
providers do not need to run and maintain a backend server, just to upload their data to a website.</p>
<p>For detailed information, see the <a class="reference internal" href="notebooks/data_sharing.html"><span class="doc std std-doc">data sharing</span></a> guide.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to ONE’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="one_installation.html" class="btn btn-neutral float-right" title="ONE installation and setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, International Brain Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>